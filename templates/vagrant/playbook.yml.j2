---
# molecule/vagrant/playbook.yml
#
# boilerplate used to update this roles molecule vagrant scenario files.
#
#
- name: Converge updated provider files
  hosts: all
  vars:

    virtualbox_deployment_users_home: /home/vagrant
    virtualbox_testing_provider: vagrant
    providers_short_name: {{ providers_short_name }}
    providers_galaxy_name: {{ providers_galaxy_name }}
{% raw %}
    providers_project_directory: "{{ lookup('env', 'PWD') }}"
{% endraw %}
    # files to be ubpdated should be set to be true
    # updating the vagrant playbook file will overwrite this file
    providers_update_all_files: false         # !!update all scenario files!!
    providers_update_vagrant_all_files: false     # !update all updatable vagrant scenario files!
    providers_update_vagrant_install_rst: false   # updates this molecule scenario file
    providers_update_vagrant_molecule_yml: false  # updates this molecule scenario file
    providers_update_vagrant_playbook_yml: false  # updates this molecule scenario file
    providers_update_vagrant_playbook2_yml: false  # updates this molecule scenario file

  pre_tasks:
    - debug:
        var: providers_project_directory
  roles:
    - role: cjsteel.providers

- import_playbook: playbook2.yml
