---
# ATTENTION - boilerplate used for updating THIS ROLES molecule vagrant scenario files.
#
#

- name: Converge
  hosts: all
  vars:
    - virtualbox_deployment_users_home: /home/vagrant
    - virtualbox_testing_provider: vagrant
    - providers_short_name: {{ providers_short_name }}
    - providers_galaxy_name: {{ providers_galaxy_name }}
{% raw %}
    - providers_project_directory: "{{ lookup('env', 'PWD') }}"
{% endraw %}
    # files to be ubpdated should be set to be true
    - providers_update_lxd_install_rst: false   # updates this roles molecule scenario files
    - providers_update_lxd_molecule_yml: false  # updates this roles molecule scenario files
    - providers_update_lxd_playbook_yml: false  # updates this roles molecule scenario files

  roles:
    - role: {{ providers_role_owner }}.{{ providers_role_short_name }}

  pre_tasks:
    - debug:
        var: providers_project_directory
  roles:
    - role: cjsteel.providers

- import_playbook: playbook2.yml
