---
# molecule/default/playbook.yml
#
# Ansible managed: Do NOT edit this file manually!
#
# boilerplate used to update this roles molecule scenario files.
#
- name: Converge updated provider files
  hosts: all
  vars:

    providers_short_name: providers
    providers_galaxy_name: cjsteel.providers

    providers_project_directory: "{{ lookup('env', 'PWD') }}"
    # files to be ubpdated should be set to be true
    providers_force: true                    # overwrite (clobber) existing files
    providers_backup_playbook2: true          # backup any existing playbook2.yml files

    # all supported molecule provider files
    providers_update_all_files: false         # update all scenario files
    providers_update_all_playbook2_yml: true

    # per provider
    providers_update_docker_all_files: false   # !update all updatable docker (default) scenario
    providers_update_lxd_all_files: false       # !update all updatable lxd scenario
    providers_update_vagrant_all_files: false   # !update all updatable vagrant scenario

    # per individual vagrant provider file
    providers_update_docker_Dockerfile: false    # updates this molecule scenario file
    providers_update_docker_install_rst: false   # updates this molecule scenario file
    providers_update_docker_molecule_yml: false  # updates this molecule scenario file
    providers_update_docker_playbook_yml: false  # updates this molecule scenario file
    providers_update_docker_playbook2_yml: true  # updates this molecule scenario file

  pre_tasks:
    - debug:
        var: providers_project_directory
  roles:
    - role: cjsteel.providers

- import_playbook: playbook2.yml
